<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no"
    />
    <link rel="shortcut icon" type="image/x-icon" href="/logo.png" />
    <link rel="stylesheet" href="/blog-architect3/umi.3ec1f225.css" />
    <script>
      window.routerBase = "/blog-architect3";
    </script>
    <script>
      //! umi version: 3.5.41
    </script>
    <script>
      !(function () {
        var e =
            navigator.cookieEnabled && void 0 !== window.localStorage
              ? localStorage.getItem("dumi:prefers-color")
              : "auto",
          o = window.matchMedia("(prefers-color-scheme: dark)").matches,
          t = ["light", "dark", "auto"];
        document.documentElement.setAttribute(
          "data-prefers-color",
          e === t[2] ? (o ? t[1] : t[0]) : t.indexOf(e) > -1 ? e : t[0]
        );
      })();
    </script>
    <title>
      01 | 容量保障的目标：容量保障的目标是什么？该如何度量？ - 大师兄
    </title>
  </head>
  <body>
    <div id="root"><div class="__dumi-default-layout" data-route="/容量保障核心技术与实战/02.基础篇/01" data-show-sidemenu="true" data-show-slugs="true" data-site-mode="true" data-gapless="false"><div class="__dumi-default-navbar" data-mode="site"><button class="__dumi-default-navbar-toggle"></button><a class="__dumi-default-navbar-logo" style="background-image:url(&#x27;/logo.png&#x27;)" href="/blog-architect3/">大师兄</a><nav><div class="__dumi-default-search"><input type="search" class="__dumi-default-search-input" value=""/><ul></ul></div><span>架构师<ul><li><a href="/blog-architect3/持续交付36讲">持续交付36讲</a></li><li><a href="/blog-architect3/容器实战高手课">容器实战高手课</a></li><li><a href="/blog-architect3/ddd实战课">ddd实战课</a></li><li><a href="/blog-architect3/devops实战笔记">devops实战笔记</a></li><li><a href="/blog-architect3/ebpf核心技术与实战">ebpf核心技术与实战</a></li><li><a href="/blog-architect3/深入剖析kubernetes">深入剖析kubernetes</a></li><li><a href="/blog-architect3/openresty从入门到实战">openresty从入门到实战</a></li><li><a href="/blog-architect3/赵成的运维体系管理课">赵成的运维体系管理课</a></li><li><a href="/blog-architect3/性能测试实战30讲">性能测试实战30讲</a></li><li><a href="/blog-architect3/安全攻防技能30讲">安全攻防技能30讲</a></li><li><a aria-current="page" class="active" href="/blog-architect3/容量保障核心技术与实战">容量保障核心技术与实战</a></li><li><a href="/blog-architect3/深入拆解tomcat和jetty">深入拆解tomcat和jetty</a></li></ul></span><div class="__dumi-default-navbar-tool"><div class="__dumi-default-dark"><div class="__dumi-default-dark-switch "></div></div></div></nav></div><div class="__dumi-default-menu" data-mode="site"><div class="__dumi-default-menu-inner"><div class="__dumi-default-menu-header"><a class="__dumi-default-menu-logo" style="background-image:url(&#x27;/logo.png&#x27;)" href="/blog-architect3/"></a><h1>大师兄</h1><p></p></div><div class="__dumi-default-menu-mobile-area"><ul class="__dumi-default-menu-nav-list"><li>架构师<ul><li><a href="/blog-architect3/持续交付36讲">持续交付36讲</a></li><li><a href="/blog-architect3/容器实战高手课">容器实战高手课</a></li><li><a href="/blog-architect3/ddd实战课">ddd实战课</a></li><li><a href="/blog-architect3/devops实战笔记">devops实战笔记</a></li><li><a href="/blog-architect3/ebpf核心技术与实战">ebpf核心技术与实战</a></li><li><a href="/blog-architect3/深入剖析kubernetes">深入剖析kubernetes</a></li><li><a href="/blog-architect3/openresty从入门到实战">openresty从入门到实战</a></li><li><a href="/blog-architect3/赵成的运维体系管理课">赵成的运维体系管理课</a></li><li><a href="/blog-architect3/性能测试实战30讲">性能测试实战30讲</a></li><li><a href="/blog-architect3/安全攻防技能30讲">安全攻防技能30讲</a></li><li><a aria-current="page" class="active" href="/blog-architect3/容量保障核心技术与实战">容量保障核心技术与实战</a></li><li><a href="/blog-architect3/深入拆解tomcat和jetty">深入拆解tomcat和jetty</a></li></ul></li></ul><div class="__dumi-default-dark"><div class="__dumi-default-dark-switch "><button title="Dark theme" class="__dumi-default-dark-moon "><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3854" width="22" height="22"><path d="M991.816611 674.909091a69.166545 69.166545 0 0 0-51.665455-23.272727 70.795636 70.795636 0 0 0-27.438545 5.585454A415.674182 415.674182 0 0 1 754.993338 698.181818c-209.594182 0-393.472-184.785455-393.472-395.636363 0-52.363636 38.539636-119.621818 69.515637-173.614546 4.887273-8.610909 9.634909-16.756364 14.103272-24.901818A69.818182 69.818182 0 0 0 384.631156 0a70.842182 70.842182 0 0 0-27.438545 5.585455C161.678429 90.298182 14.362065 307.898182 14.362065 512c0 282.298182 238.824727 512 532.38691 512a522.286545 522.286545 0 0 0 453.957818-268.334545A69.818182 69.818182 0 0 0 991.816611 674.909091zM546.679156 954.181818c-248.785455 0-462.941091-192-462.941091-442.181818 0-186.647273 140.637091-372.829091 300.939637-442.181818-36.817455 65.629091-92.578909 151.970909-92.578909 232.727273 0 250.181818 214.109091 465.454545 462.917818 465.454545a488.331636 488.331636 0 0 0 185.181091-46.545455 453.003636 453.003636 0 0 1-393.565091 232.727273z m103.656728-669.323636l-14.266182 83.781818a34.909091 34.909091 0 0 0 50.362182 36.770909l74.775272-39.563636 74.752 39.563636a36.142545 36.142545 0 0 0 16.174546 3.956364 34.909091 34.909091 0 0 0 34.210909-40.727273l-14.289455-83.781818 60.509091-59.345455a35.025455 35.025455 0 0 0-19.223272-59.578182l-83.61891-12.101818-37.376-76.101818a34.56 34.56 0 0 0-62.254545 0l-37.376 76.101818-83.618909 12.101818a34.909091 34.909091 0 0 0-19.246546 59.578182z m70.423272-64.698182a34.280727 34.280727 0 0 0 26.135273-19.083636l14.312727-29.090909 14.336 29.090909a34.257455 34.257455 0 0 0 26.135273 19.083636l32.046546 4.887273-23.272728 22.574545a35.234909 35.234909 0 0 0-10.007272 30.952727l5.46909 32.116364-28.625454-15.127273a34.490182 34.490182 0 0 0-32.302546 0l-28.695272 15.127273 5.469091-32.116364a35.141818 35.141818 0 0 0-9.984-30.952727l-23.272728-22.574545z" p-id="3855"></path></svg></button><button title="Light theme" class="__dumi-default-dark-sun "><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4026" width="22" height="22"><path d="M915.2 476.16h-43.968c-24.704 0-44.736 16-44.736 35.84s20.032 35.904 44.736 35.904H915.2c24.768 0 44.8-16.064 44.8-35.904s-20.032-35.84-44.8-35.84zM512 265.6c-136.704 0-246.464 109.824-246.464 246.4 0 136.704 109.76 246.464 246.464 246.464S758.4 648.704 758.4 512c0-136.576-109.696-246.4-246.4-246.4z m0 425.6c-99.008 0-179.2-80.128-179.2-179.2 0-98.944 80.192-179.2 179.2-179.2S691.2 413.056 691.2 512c0 99.072-80.192 179.2-179.2 179.2zM197.44 512c0-19.84-19.136-35.84-43.904-35.84H108.8c-24.768 0-44.8 16-44.8 35.84s20.032 35.904 44.8 35.904h44.736c24.768 0 43.904-16.064 43.904-35.904zM512 198.464c19.776 0 35.84-20.032 35.84-44.8v-44.8C547.84 84.032 531.84 64 512 64s-35.904 20.032-35.904 44.8v44.8c0 24.768 16.128 44.864 35.904 44.864z m0 627.136c-19.776 0-35.904 20.032-35.904 44.8v44.736C476.096 940.032 492.16 960 512 960s35.84-20.032 35.84-44.8v-44.736c0-24.768-16.064-44.864-35.84-44.864z m329.92-592.832c17.472-17.536 20.288-43.072 6.4-57.024-14.016-14.016-39.488-11.2-57.024 6.336-4.736 4.864-26.496 26.496-31.36 31.36-17.472 17.472-20.288 43.008-6.336 57.024 13.952 14.016 39.488 11.2 57.024-6.336 4.8-4.864 26.496-26.56 31.296-31.36zM213.376 759.936c-4.864 4.8-26.56 26.624-31.36 31.36-17.472 17.472-20.288 42.944-6.4 56.96 14.016 13.952 39.552 11.2 57.024-6.336 4.8-4.736 26.56-26.496 31.36-31.36 17.472-17.472 20.288-43.008 6.336-56.96-14.016-13.952-39.552-11.072-56.96 6.336z m19.328-577.92c-17.536-17.536-43.008-20.352-57.024-6.336-14.08 14.016-11.136 39.488 6.336 57.024 4.864 4.864 26.496 26.56 31.36 31.424 17.536 17.408 43.008 20.288 56.96 6.336 14.016-14.016 11.264-39.488-6.336-57.024-4.736-4.864-26.496-26.56-31.296-31.424z m527.168 628.608c4.864 4.864 26.624 26.624 31.36 31.424 17.536 17.408 43.072 20.224 57.088 6.336 13.952-14.016 11.072-39.552-6.4-57.024-4.864-4.8-26.56-26.496-31.36-31.36-17.472-17.408-43.072-20.288-57.024-6.336-13.952 14.016-11.008 39.488 6.336 56.96z" p-id="4027"></path></svg></button><button title="Default to system" class="__dumi-default-dark-auto "><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="11002" width="22" height="22"><path d="M127.658667 492.885333c0-51.882667 10.24-101.717333 30.378666-149.162666s47.786667-88.064 81.92-122.538667 75.093333-61.781333 122.538667-81.92 96.938667-30.378667 149.162667-30.378667 101.717333 10.24 149.162666 30.378667 88.405333 47.786667 122.88 81.92 61.781333 75.093333 81.92 122.538667 30.378667 96.938667 30.378667 149.162666-10.24 101.717333-30.378667 149.162667-47.786667 88.405333-81.92 122.88-75.093333 61.781333-122.88 81.92-97.28 30.378667-149.162666 30.378667-101.717333-10.24-149.162667-30.378667-88.064-47.786667-122.538667-81.92-61.781333-75.093333-81.92-122.88-30.378667-96.938667-30.378666-149.162667z m329.045333 0c0 130.048 13.994667 244.394667 41.984 343.381334h12.970667c46.762667 0 91.136-9.216 133.461333-27.306667s78.848-42.666667 109.568-73.386667 54.954667-67.242667 73.386667-109.568 27.306667-86.698667 27.306666-133.461333c0-46.421333-9.216-90.794667-27.306666-133.12s-42.666667-78.848-73.386667-109.568-67.242667-54.954667-109.568-73.386667-86.698667-27.306667-133.461333-27.306666h-11.605334c-28.672 123.562667-43.349333 237.909333-43.349333 343.722666z" p-id="11003"></path></svg></button></div></div></div><ul class="__dumi-default-menu-list"><li><a href="/blog-architect3/容量保障核心技术与实战">容量保障核心技术与实战</a></li><li><a href="/blog-architect3/容量保障核心技术与实战/01.开篇词">01.开篇词</a><ul><li><a href="/blog-architect3/容量保障核心技术与实战/01.开篇词/01"><span>开篇词 | 互联网时代，人人肩负容量保障的职责</span></a></li></ul></li><li><a aria-current="page" class="active" href="/blog-architect3/容量保障核心技术与实战/02.基础篇">02.基础篇</a><ul><li><a aria-current="page" class="active" href="/blog-architect3/容量保障核心技术与实战/02.基础篇/01"><span>01 | 容量保障的目标：容量保障的目标是什么？该如何度量？</span></a></li><li><a href="/blog-architect3/容量保障核心技术与实战/02.基础篇/02"><span>02 | 容量测试与验证：怎样科学实施容量测试？</span></a></li><li><a href="/blog-architect3/容量保障核心技术与实战/02.基础篇/03"><span>03 | 容量指标分析经典5问：响应时间真的是越短越好吗？</span></a></li><li><a href="/blog-architect3/容量保障核心技术与实战/02.基础篇/04"><span>04 | 容量治理的三板斧：扩容、限流与降级</span></a></li></ul></li><li><a href="/blog-architect3/容量保障核心技术与实战/03.进阶篇">03.进阶篇</a><ul><li><a href="/blog-architect3/容量保障核心技术与实战/03.进阶篇/01"><span>05 | 全链路压测：系统整体容量保障的“核武器”（上）</span></a></li><li><a href="/blog-architect3/容量保障核心技术与实战/03.进阶篇/02"><span>06 | 全链路压测：系统整体容量保障的“核武器”（下）</span></a></li><li><a href="/blog-architect3/容量保障核心技术与实战/03.进阶篇/03"><span>07 | 工具进化：如何实现一个分布式压测平台</span></a></li><li><a href="/blog-architect3/容量保障核心技术与实战/03.进阶篇/04"><span>08 | 容量预测（上）：第三只眼，通过AI预测服务容量瓶颈</span></a></li><li><a href="/blog-architect3/容量保障核心技术与实战/03.进阶篇/05"><span>09 | 容量预测（下）：为不同服务“画像”，提升容量预测准确性</span></a></li><li><a href="/blog-architect3/容量保障核心技术与实战/03.进阶篇/06"><span>10 | 浅谈排队论：数学之美，通过建模计算容量</span></a></li><li><a href="/blog-architect3/容量保障核心技术与实战/03.进阶篇/07"><span>11 | 与时俱进：云原生下的容量保障新趋势</span></a></li></ul></li><li><a href="/blog-architect3/容量保障核心技术与实战/04.案例篇">04.案例篇</a><ul><li><a href="/blog-architect3/容量保障核心技术与实战/04.案例篇/01"><span>12 | 大促容量保障体系建设：怎样做好大促活动的容量保障工作（上）</span></a></li><li><a href="/blog-architect3/容量保障核心技术与实战/04.案例篇/02"><span>13 | 大促容量保障体系建设：怎样做好大促活动的容量保障工作（下）</span></a></li><li><a href="/blog-architect3/容量保障核心技术与实战/04.案例篇/03"><span>14 | 容量保障组织建设：容量保障需要什么样的团队？</span></a></li><li><a href="/blog-architect3/容量保障核心技术与实战/04.案例篇/04"><span>15 | 小公司也能做好容量保障：建设经济实用型的容量保障体系</span></a></li></ul></li><li><a href="/blog-architect3/容量保障核心技术与实战/05.结束语">05.结束语</a><ul><li><a href="/blog-architect3/容量保障核心技术与实战/05.结束语/01"><span>结束语 | 做时间的朋友，成功是持续累积而成的</span></a></li><li><a href="/blog-architect3/容量保障核心技术与实战/05.结束语/02"><span>结课测试 | 这些容量保障知识，你都掌握了吗？</span></a></li></ul></li><li><a href="/blog-architect3/容量保障核心技术与实战/06.加餐">06.加餐</a><ul><li><a href="/blog-architect3/容量保障核心技术与实战/06.加餐/01"><span>加餐 | 学习容量保障的那些经典资料</span></a></li></ul></li><li><a href="/blog-architect3/容量保障核心技术与实战/summary">容量保障核心技术与实战</a></li></ul></div></div><ul role="slug-list" class="__dumi-default-layout-toc"><li title="容量保障的目标是什么？" data-depth="2"><a href="/blog-architect3/容量保障核心技术与实战/02.基础篇/01#容量保障的目标是什么"><span>容量保障的目标是什么？</span></a></li><li title="容量保障目标的量化" data-depth="2"><a href="/blog-architect3/容量保障核心技术与实战/02.基础篇/01#容量保障目标的量化"><span>容量保障目标的量化</span></a></li><li title="1. 服务等级协议（SLA）" data-depth="3"><a href="/blog-architect3/容量保障核心技术与实战/02.基础篇/01#1-服务等级协议sla"><span>1. 服务等级协议（SLA）</span></a></li><li title="2. QPS/TPS" data-depth="3"><a href="/blog-architect3/容量保障核心技术与实战/02.基础篇/01#2-qpstps"><span>2. QPS/TPS</span></a></li><li title="3. 用户体验" data-depth="3"><a href="/blog-architect3/容量保障核心技术与实战/02.基础篇/01#3-用户体验"><span>3. 用户体验</span></a></li><li title="总结" data-depth="2"><a href="/blog-architect3/容量保障核心技术与实战/02.基础篇/01#总结"><span>总结</span></a></li><li title="课后讨论" data-depth="2"><a href="/blog-architect3/容量保障核心技术与实战/02.基础篇/01#课后讨论"><span>课后讨论</span></a></li></ul><div class="__dumi-default-layout-content"><div class="markdown"><h1 id="01--容量保障的目标容量保障的目标是什么该如何度量"><a aria-hidden="true" tabindex="-1" href="/blog-architect3/容量保障核心技术与实战/02.基础篇/01#01--容量保障的目标容量保障的目标是什么该如何度量"><span class="icon icon-link"></span></a>01 | 容量保障的目标：容量保障的目标是什么？该如何度量？</h1><p>你好，我是吴骏龙，欢迎和我一起学习容量保障。</p><p>俗话说万事开头难，在没有弄清楚目标和需求之前，很难进行容量保障，这就好比建筑图纸没有设计出来之前，你肯定不会开始砌墙。此外，不同角色看待容量的视角也是不一样的，对用户来说可能是想用的功能正常，访问速度快；而对技术人员来说，则是某个性能指标或可用性指标达到可靠的范围。</p><p><img src="/blog-architect3/static/httpsstatic001geekbangorgresourceimagee9e8e9363d72203ac5159d5c011f6abeb2e8.e769f959.png" alt=""/></p><p>在今天这一讲中，我会着重和你讨论技术视角的目标，但同时也要明确，任何技术目标最终都是要体现到业务，也就是终端用户上的，<strong>脱离业务场景制定容量保障的目标，几乎肯定会跑偏</strong>。因为不同业务场景对于容量保障的要求是不一样的。</p><p>举一个极端的例子，如果我们面对的是企事业单位的某个内部系统，有着非常稳定的用户规模和几乎不变的产品功能，那么容量保障就是基于固定用户量的一次性保障工作。相反，如果是大型电商系统，业务场景有明显的流量峰值，且经常举办大促活动，容量保障就是一部“跌宕起伏的连续剧”。</p><h2 id="容量保障的目标是什么"><a aria-hidden="true" tabindex="-1" href="/blog-architect3/容量保障核心技术与实战/02.基础篇/01#容量保障的目标是什么"><span class="icon icon-link"></span></a>容量保障的目标是什么？</h2><p>那么，容量保障的目标究竟是什么呢？我们先来回答这个问题吧。</p><p>总结一下其实就两句话：</p><ul><li><strong>第一，以尽可能小的成本确保系统当前和未来的容量充足，即容量规划；</strong></li><li><strong>第二，解决已知的容量问题，预防未知的容量问题，即容量治理。</strong></li></ul><p>我们的这门课，就是围绕这两方面层层展开的。</p><p>你可以按这样的思路去理解容量保障的目标。首先，成本是容量保障的一个制约条件，容量保障不是无限保障，公司对服务器等IT资源的投入，对容量保障人力资源的投入等等，可能都会设置上限，这些都是成本上的约束。</p><p>在控制成本的基础上，我们要保障服务容量充足，即服务的各项资源消耗和业务指标保持在一个相对安全的范围内，这个范围可以是推算出来的，也可以是通过容量测试验证出来的，亦可以是真实流量体现出来的，我们将其称之为“安全水位”。</p><p>最后，分布式系统中充满了不确定性，网络可能抖三抖，硬盘可能崩一崩，我们一方面要尽可能在这种不可靠的环境下预防容量问题的发生，又要在出现容量问题时，有能力在短时间内消除影响，甚至是全自动的进行止损，这一点直接影响着服务可用性和用户体验。</p><p>做到了这些，容量保障的目标自然就达成了。</p><h2 id="容量保障目标的量化"><a aria-hidden="true" tabindex="-1" href="/blog-architect3/容量保障核心技术与实战/02.基础篇/01#容量保障目标的量化"><span class="icon icon-link"></span></a>容量保障目标的量化</h2><p>在明确了目标之后，我们需要拆解出一些具体的量化指标，以确保目标的有效达成。换言之，如果公司将容量保障的任务交给你来完成，你怎么证明自己的工作完成得好不好呢？</p><p>这时候，你就需要去量化目标，用数据说话。一个不能量化的目标，本身就是难以实施的目标，这也是为何我们在制定各种目标时都建议输出度量指标的原因，关键结果是由量化指标的形式呈现的。</p><p>那么，容量保障工作中有哪些关键的量化指标呢？</p><h3 id="1-服务等级协议sla"><a aria-hidden="true" tabindex="-1" href="/blog-architect3/容量保障核心技术与实战/02.基础篇/01#1-服务等级协议sla"><span class="icon icon-link"></span></a>1. 服务等级协议（SLA）</h3><p>通俗地说，SLA就是对服务可用性的一个保证，它可以细分为SLI和SLO。其中，SLI定义测量的具体指标，如QPS、带宽等；SLO定义服务提供功能的期望状态，如QPS 99线≤100ms。</p><p><strong>SLA用一个简单的公式来描述就是：SLA = SLO + 后果。</strong> 这里的后果指的是不满足SLO情况下的补偿协议，比如赔款、延长使用期，等等。</p><p>可用性是互联网系统提供服务的根本，因此用SLA作为容量保障目标的量化指标也是非常常见的。当然，不止是容量问题，有很多因素都有可能影响SLA，比如：线上漏测的Bug、网络抖动、服务器断电等等，因此需要识别出影响SLA的容量问题，再判断是否满足目标。</p><p>举个具体的例子，我们要求系统整体可用性SLA为4个9（99.99%），即每年不可用时长≤52.56分钟（1年：8760小时 × 0.0001 = 52.56分钟）。</p><p>基于这个整体SLA要求，并综合考虑历年容量问题对服务可用性的影响比例（比如占比为1/5），最终设定容量问题造成的可用性损失不高于10分钟（52.26 / 5≈10分钟），这就是一个明确的目标，基于这个目标拆解策略是可衡量的。</p><p>不过，虽然<strong>SLA是一个很好的指标，但也是众所周知的易量化、难测量</strong>。</p><p>举个例子，有一项SLA承诺了团队将在24小时内解决用户上报的问题，但它却没有讲清楚如果客户没有提供足够的信息，反复沟通的时间如何计算？24小时是否包含这些时间？这些信息是必须要落实的，但其实很少有团队能将SLA描述细化到这个程度。因此，很多SLA的制定其实是不太切合实际的，我们应该用尽可能浅显易懂的语言，围绕业务或用户的实际需求，制定能测量、能理解、有效的SLA。</p><p>上面说了一个反面教材，我针对容量保障工作再给你一个优秀的案例吧。</p><p>如下图所示，我们将交易链路下单接口的成功率≥95%作为SLA的一部分，并且承诺低于该成功率的时长不超过1分钟，这就是一个容易理解且可测量的SLA，通过对下单接口的监控就可以观测。交易链路的容量问题有导致下单成功率下跌的可能性，因此作为容量保障的目标也是合理的。</p><p><img src="/blog-architect3/static/httpsstatic001geekbangorgresourceimagec0f4c0e6e5c70914f8babdb9038713d97df4.4c6ad309.png" alt=""/></p><p>注释：图中OOSLA = Out of SLA，指不满足SLA的时段</p><h3 id="2-qpstps"><a aria-hidden="true" tabindex="-1" href="/blog-architect3/容量保障核心技术与实战/02.基础篇/01#2-qpstps"><span class="icon icon-link"></span></a>2. QPS/TPS</h3><p>第二个关键的量化指标，QPS/TPS，我们先来复习一下它们的含义：</p><ul><li>QPS（Queries per Second）指的是每秒查询率，是一台服务器每秒能够响应的查询次数，即1秒内完成的请求数量，一般针对读请求居多。</li><li>TPS（Transactions per Second）指的是每秒处理的事务数，一般针对写请求居多。</li></ul><p>如果你觉得不够形象，可以想象一下百度的搜索页面，假设我们将这个页面的展示过程视为是一个事务，每秒对这个页面的请求就形成了TPS，其中可能包含对若干页面内请求的QPS，即1TPS＝多QPS。如果我们只是请求一个静态页面，页面加载不包含其他查询请求，那么这里TPS和QPS就是对等的，即1TPS＝1QPS。</p><p>QPS/TPS是容量保障目标中最常见的指标，<strong>我们通常说“系统容量是否足够”，一般就是指系统或服务能否在可接受的响应时间和成功率下支撑目标QPS/TPS</strong>。</p><p>不过在实际工作中，我们有时可能无法直接给出QPS/TPS的目标值，比如说，针对某个将要上线的大促活动，业务方预估的活动热度往往是以业务指标的形式呈现的，如PV（Page View）、UV（Unique View）、DAU（Daily Active User）等，我们需要将其转换为QPS/TPS，才能作为容量保障可实施的技术目标。</p><p>为了加深理解，我来出一道应用题。</p><p>这里有一个活动页面，页面上分为A、B和C三个区域，进入页面分别调用getAct()、getAct2()和getAct3()接口各一次，这些接口的调用链路又会涉及a()、b()、c()三个接口，调用关系如图所示。这时，如果业务运营方给到这个页面在活动期间（1天）的总PV预估是1000万，求a()接口的预估QPS是多少？</p><p><img src="data:image/png;base64,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" alt=""/></p><p>首先，1000万PV是分布在整个活动期间的，但不一定是均匀分布的。假设我们根据二八原则，也就是80%的PV分布在20%的时间内，4.8小时中将有800万PV，平均每秒463PV。</p><p>由于进入该页面（1次PV）对应getAct()和getAct2()接口各调用一次，那么对a()接口的调用总共就是2次，我们可以得出a()接口的预估QPS为926，这就是该接口在活动期间的容量保障目标。</p><p>总结一下，不论是计算QPS还是TPS，首先需要对服务调用链路非常熟悉，梳理出调用关系，最好能够形成类似上面例子中的调用关系图，这样会更清晰易读；其次，虽然针对页面入口的流量是等比例调用的，但根据上述例子我们也看到了，1次PV转换到a()接口变成了2次调用，这意味着对下游服务的调用量很有可能会被放大，这些扩散比是需要重点计算的；最后，如果是针对局部活动的流量预估，还需要考虑到接口在其他链路上的背景流量，也需要一并计算在内，例子中的c()接口就存在这样的背景流量。</p><p>如果你感兴趣的话可以计算一下，对于c()接口的预估QPS应该是多少呢？</p><p>再多说一句，传统的互联网服务大多是计算密集型的，即并发量较大的类型，QPS/TPS和响应时间比较适合作为容量目标。而对于数据存储型的服务，比如某些大数据服务，吞吐量和磁盘IO是比较合适的目标，因为这种类型的服务对计算量的要求不大，主要瓶颈在数据传输的速度上，具体你可以看<a target="_blank" rel="noopener noreferrer" href="https://www.cnblogs.com/sddai/p/8647795.html">这篇文章<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>，解释比较全面了。可见，制定目标是要因地制宜的。</p><h3 id="3-用户体验"><a aria-hidden="true" tabindex="-1" href="/blog-architect3/容量保障核心技术与实战/02.基础篇/01#3-用户体验"><span class="icon icon-link"></span></a>3. 用户体验</h3><p>第三个关键指标是用户体验。有些容量问题尽管没有影响可用性，但会导致用户操作时响应延迟，页面打开缓慢等体验问题。想象一下，你工作了一天下班回到家，躺在床上打开某个电商App准备看一下有什么新品上市，结果每浏览一个商品详情页都会卡上好几秒，你会是啥心情呢？</p><p>其实，我们都希望系统始终能够为用户提供平稳、快速的用户体验，不仅要“可用”，还要“用得爽”。因此，<strong>用户体验完全可以作为容量保障更高级的目标</strong>。将用户体验做到极致，是咱们每个互联网技术人员都应该铭记的初心。</p><p>不过，用户体验问题的定性是相对困难的，一种手段是将客户投诉或内测版本反馈作为一个维度去跟踪。另外，绝大多数用户体验是可以与系统指标或业务指标挂钩的，这些指标就可以作为目标的一部分。比如，有用户反馈某个操作等待时间特别长，其涉及的接口背后的服务器CPU利用率、内存利用率、响应时间、调用的消息队列延迟等信息，就都可以作为参考维度。</p><h2 id="总结"><a aria-hidden="true" tabindex="-1" href="/blog-architect3/容量保障核心技术与实战/02.基础篇/01#总结"><span class="icon icon-link"></span></a>总结</h2><p>今天这一节课，我首先介绍了不同人群看待互联网服务容量的视角区别，并明确了从技术视角出发，结合业务场景的思路。</p><p>接下来，我重点解释了容量保障的目标，你可以将其拆解为容量规划和容量治理两部分。前者考虑在成本的约束下，将系统资源规划到最优水位；后者则主要致力于容量问题的事前防治和事后止损。</p><p>最后，我详细展开了容量保障目标的量化方式和指标选取，分别就SLA、QPS/TPS和用户体验三方面进行了阐述。SLA是基于服务可用性的视角来量化容量保障目标的，QPS/TPS则是以服务处理能力作为容量保障的度量维度，用户体验是最高级的度量指标，直接以用户的感受作为容量目标。</p><p><strong>技术指标联系业务场景，量化目标结合用户体验，是我想传达的核心思想。</strong> 产品是做出来给人用的，容量保障的终极目的，也是竭尽所能给用户提供流畅的产品体验。互联网业务的快速发展对容量保障提出了越来越高的要求，今天制定的目标也许很快就会跟不上明天的发展方向，用户体验就是一个典型例子，直到今天都很少有人将其作为容量保障的目标，但它恰恰是一个产品的核心竞争力。我们应该以动态的眼光看待容量目标，不断精益求精，更好地服务用户。<br/><img src="/blog-architect3/static/httpsstatic001geekbangorgresourceimageab7eab7fc7d46c4d2c8bf8b4d6cca75dbe7e.d417ad9e.png" alt=""/></p><h2 id="课后讨论"><a aria-hidden="true" tabindex="-1" href="/blog-architect3/容量保障核心技术与实战/02.基础篇/01#课后讨论"><span class="icon icon-link"></span></a>课后讨论</h2><p>在“QPS/TPS”小节中，我留了一个小问题，你可以计算一下c()接口的预估QPS是多少，注意考虑清楚所有的请求来源。欢迎你给我留言，也欢迎分享给更多的朋友一起阅读。</p></div><div class="__dumi-default-layout-footer-meta"><a target="_blank" rel="noopener noreferrer" href="https://github.com/GGwujun/blog/edit/master/ssrc/容量保障核心技术与实战/02.基础篇/01.md">在 GitHub 上编辑此页<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a><span data-updated-text="最后更新时间：">2023/9/29 14:48:00</span></div></div></div></div>
	<script>
  window.g_useSSR = true;
  window.g_initialProps = {};
	</script>

    <script>
      (function () {
        if (!location.port) {
          (function (i, s, o, g, r, a, m) {
            i["GoogleAnalyticsObject"] = r;
            (i[r] =
              i[r] ||
              function () {
                (i[r].q = i[r].q || []).push(arguments);
              }),
              (i[r].l = 1 * new Date());
            (a = s.createElement(o)), (m = s.getElementsByTagName(o)[0]);
            a.async = 1;
            a.src = g;
            m.parentNode.insertBefore(a, m);
          })(
            window,
            document,
            "script",
            "//www.google-analytics.com/analytics.js",
            "ga"
          );
          ga("create", "UA-149864185-1", "auto");
          ga("send", "pageview");
        }
      })();
    </script>
    <script src="/blog-architect3/umi.0a9ffe80.js"></script>
  </body>
</html>
